<?php

declare (strict_types=1);
namespace RectorPrefix20220607;

use Rector\CakePHP\Rector\MethodCall\ModalToGetSetRector;
use Rector\CakePHP\ValueObject\ModalToGetSet;
use Rector\Config\RectorConfig;
use Rector\Core\ValueObject\Visibility;
use Rector\Renaming\Rector\MethodCall\RenameMethodRector;
use Rector\Renaming\Rector\Name\RenameClassRector;
use Rector\Renaming\Rector\PropertyFetch\RenamePropertyRector;
use Rector\Renaming\ValueObject\MethodCallRename;
use Rector\Renaming\ValueObject\RenameProperty;
use Rector\Transform\Rector\Assign\PropertyFetchToMethodCallRector;
use Rector\Transform\ValueObject\PropertyFetchToMethodCall;
use Rector\Visibility\Rector\ClassMethod\ChangeMethodVisibilityRector;
use Rector\Visibility\ValueObject\ChangeMethodVisibility;
return static function (RectorConfig $rectorConfig) : void {
    $rectorConfig->ruleWithConfiguration(PropertyFetchToMethodCallRector::class, [
        // source: https://book.cakephp.org/3.0/en/appendices/3-4-migration-guide.html
        new PropertyFetchToMethodCall('RectorPrefix20220607\\Cake\\Network\\Request', 'params', 'getAttribute', null, ['params']),
        new PropertyFetchToMethodCall('RectorPrefix20220607\\Cake\\Network\\Request', 'data', 'getData'),
        new PropertyFetchToMethodCall('RectorPrefix20220607\\Cake\\Network\\Request', 'query', 'getQueryParams'),
        new PropertyFetchToMethodCall('RectorPrefix20220607\\Cake\\Network\\Request', 'cookies', 'getCookie'),
        new PropertyFetchToMethodCall('RectorPrefix20220607\\Cake\\Network\\Request', 'base', 'getAttribute', null, ['base']),
        new PropertyFetchToMethodCall('RectorPrefix20220607\\Cake\\Network\\Request', 'webroot', 'getAttribute', null, ['webroot']),
        new PropertyFetchToMethodCall('RectorPrefix20220607\\Cake\\Network\\Request', 'here', 'getAttribute', null, ['here']),
    ]);
    $rectorConfig->ruleWithConfiguration(RenamePropertyRector::class, [new RenameProperty('RectorPrefix20220607\\Cake\\Network\\Request', '_session', 'session')]);
    $rectorConfig->ruleWithConfiguration(ModalToGetSetRector::class, [
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Core\\InstanceConfigTrait', 'config', null, null, 2, 'array'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Core\\StaticConfigTrait', 'config', null, null, 2, 'array'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Console\\ConsoleOptionParser', 'command'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Console\\ConsoleOptionParser', 'description'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Console\\ConsoleOptionParser', 'epilog'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Connection', 'driver'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Connection', 'schemaCollection'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Connection', 'useSavePoints', 'isSavePointsEnabled', 'enableSavePoints'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Driver', 'autoQuoting', 'isAutoQuotingEnabled', 'enableAutoQuoting'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Expression\\FunctionExpression', 'name'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Expression\\QueryExpression', 'tieWith', 'getConjunction', 'setConjunction'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Expression\\ValuesExpression', 'columns'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Expression\\ValuesExpression', 'values'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Expression\\ValuesExpression', 'query'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Query', 'connection'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Query', 'selectTypeMap'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Query', 'bufferResults', 'isBufferedResultsEnabled', 'enableBufferedResults'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Schema\\CachedCollection', 'cacheMetadata'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Schema\\TableSchema', 'options'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\Schema\\TableSchema', 'temporary', 'isTemporary', 'setTemporary'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\TypeMap', 'defaults'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\TypeMap', 'types'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\TypeMapTrait', 'typeMap'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Database\\TypeMapTrait', 'defaultTypes'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'name'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'cascadeCallbacks'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'source'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'target'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'conditions'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'bindingKey'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'foreignKey'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'dependent'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'joinType'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'property'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'strategy'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association', 'finder'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association\\BelongsToMany', 'targetForeignKey'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association\\BelongsToMany', 'saveStrategy'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association\\BelongsToMany', 'conditions'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association\\HasMany', 'saveStrategy'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association\\HasMany', 'foreignKey'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association\\HasMany', 'sort'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Association\\HasOne', 'foreignKey'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\EagerLoadable', 'config'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\EagerLoadable', 'canBeJoined', 'canBeJoined', 'setCanBeJoined'),
        // note: will have to be called after setMatching() to keep the old behavior
        // ref: https://github.com/cakephp/cakephp/blob/4feee5463641e05c068b4d1d31dc5ee882b4240f/src/ORM/EagerLoader.php#L330
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\EagerLoadable', 'matching'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\EagerLoadable', 'autoFields', 'isAutoFieldsEnabled', 'enableAutoFields'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Locator\\TableLocator', 'config'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Query', 'eagerLoader'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Query', 'hydrate', 'isHydrationEnabled', 'enableHydration'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Query', 'autoFields', 'isAutoFieldsEnabled', 'enableAutoFields'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Table', 'table'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Table', 'alias'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Table', 'registryAlias'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Table', 'connection'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Table', 'schema'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Table', 'primaryKey'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Table', 'displayField'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\ORM\\Table', 'entityClass'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'entityClass'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'from'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'sender'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'replyTo'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'readReceipt'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'returnPath'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'to'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'cc'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'bcc'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'charset'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'headerCharset'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'emailPattern'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'subject'),
        // template: have to be changed manually, non A â†’ B change + array case
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'viewRender', 'getViewRenderer', 'setViewRenderer'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'viewVars'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'theme'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'helpers'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'emailFormat'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'transport'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'messageId'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'domain'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'attachments'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'configTransport'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Mailer\\Email', 'profile'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\Validation\\Validator', 'provider'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\StringTemplateTrait', 'templates'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'templatePath'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'layoutPath'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'plugin'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'helpers'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'theme'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'template'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'layout'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'options'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'name'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'className'),
        new ModalToGetSet('RectorPrefix20220607\\Cake\\View\\ViewBuilder', 'autoLayout', 'isAutoLayoutEnabled', 'enableAutoLayout'),
    ]);
    $rectorConfig->ruleWithConfiguration(RenameMethodRector::class, [
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Request', 'param', 'getParam'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Request', 'data', 'getData'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Request', 'query', 'getQuery'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Request', 'cookie', 'getCookie'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Request', 'method', 'getMethod'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Request', 'setInput', 'withBody'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'location', 'withLocation'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'disableCache', 'withDisabledCache'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'type', 'withType'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'charset', 'withCharset'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'cache', 'withCache'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'modified', 'withModified'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'expires', 'withExpires'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'sharable', 'withSharable'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'maxAge', 'withMaxAge'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'vary', 'withVary'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'etag', 'withEtag'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'compress', 'withCompression'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'length', 'withLength'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'mustRevalidate', 'withMustRevalidate'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'notModified', 'withNotModified'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'cookie', 'withCookie'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'file', 'withFile'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'download', 'withDownload'),
        # psr-7
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'header', 'getHeader'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'body', 'withBody'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'statusCode', 'getStatusCode'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Network\\Response', 'protocol', 'getProtocolVersion'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Event\\Event', 'name', 'getName'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Event\\Event', 'subject', 'getSubject'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Event\\Event', 'result', 'getResult'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Event\\Event', 'data', 'getData'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\View\\Helper\\FormHelper', 'input', 'control'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\View\\Helper\\FormHelper', 'inputs', 'controls'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\View\\Helper\\FormHelper', 'allInputs', 'allControls'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Mailer\\Mailer', 'layout', 'setLayout'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Routing\\Route\\Route', 'parse', 'parseRequest'),
        new MethodCallRename('RectorPrefix20220607\\Cake\\Routing\\Router', 'parse', 'parseRequest'),
    ]);
    $rectorConfig->ruleWithConfiguration(ChangeMethodVisibilityRector::class, [new ChangeMethodVisibility('RectorPrefix20220607\\Cake\\Mailer\\MailerAwareTrait', 'getMailer', Visibility::PROTECTED), new ChangeMethodVisibility('RectorPrefix20220607\\Cake\\View\\CellTrait', 'cell', Visibility::PROTECTED)]);
    $rectorConfig->ruleWithConfiguration(RenameClassRector::class, ['RectorPrefix20220607\\Cake\\Database\\Schema\\Table' => 'RectorPrefix20220607\\Cake\\Database\\Schema\\TableSchema']);
};
